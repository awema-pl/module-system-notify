/**
 * Bundle of AWEMA system-notify transpiled and polyfilled
 * Generated: 2019-05-06 15:42:54
 * Version: 1.2.3
 */

!function(){"use strict";function t(t,n){return t(n={exports:{}},n.exports),n.exports}var n=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),e=t(function(t){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)}),i=(e.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),r=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},s=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=n.document,c=i(a)&&i(a.createElement),u=!s&&!o(function(){return 7!=Object.defineProperty((t="div",c?a.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),f=Object.defineProperty,l={f:s?Object.defineProperty:function(t,n,e){if(r(t),n=function(t,n){if(!i(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!i(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(n,!0),r(e),u)try{return f(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},d=s?function(t,n,e){return l.f(t,n,function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}(1,e))}:function(t,n,e){return t[n]=e,t},y={}.hasOwnProperty,h=function(t,n){return y.call(t,n)},m=0,p=Math.random(),v=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++m+p).toString(36))},_=t(function(t){var i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),g=_("native-function-to-string",Function.toString),b=t(function(t){var i=v("src"),r=(""+g).split("toString");e.inspectSource=function(t){return g.call(t)},(t.exports=function(t,e,o,s){var a="function"==typeof o;a&&(h(o,"name")||d(o,"name",e)),t[e]!==o&&(a&&(h(o,i)||d(o,i,t[e]?""+t[e]:r.join(String(e)))),t===n?t[e]=o:s?t[e]?t[e]=o:d(t,e,o):(delete t[e],d(t,e,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||g.call(this)})}),A=function(t,n,e){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)}}return function(){return t.apply(n,arguments)}},w=function(t,i,r){var o,s,a,c,u=t&w.F,f=t&w.G,l=t&w.S,y=t&w.P,h=t&w.B,m=f?n:l?n[i]||(n[i]={}):(n[i]||{}).prototype,p=f?e:e[i]||(e[i]={}),v=p.prototype||(p.prototype={});for(o in f&&(r=i),r)a=((s=!u&&m&&void 0!==m[o])?m:r)[o],c=h&&s?A(a,n):y&&"function"==typeof a?A(Function.call,a):a,m&&b(m,o,a,t&w.U),p[o]!=a&&d(p,o,c),y&&v[o]!=a&&(v[o]=a)};n.core=e,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128;var S=w,k={}.toString,C=function(t){return k.call(t).slice(8,-1)},E=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==C(t)?t.split(""):Object(t)},O=function(t){return Object(function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}(t))},j=Math.ceil,x=Math.floor,T=Math.min,F=function(t){return t>0?T(function(t){return isNaN(t=+t)?0:(t>0?x:j)(t)}(t),9007199254740991):0},N=Array.isArray||function(t){return"Array"==C(t)},W=t(function(t){var e=_("wks"),i=n.Symbol,r="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=r&&i[t]||(r?i:v)("Symbol."+t))}).store=e}),P=W("species"),M=function(t,n){return new(function(t){var n;return N(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!N(n.prototype)||(n=void 0),i(n)&&null===(n=n[P])&&(n=void 0)),void 0===n?Array:n}(t))(n)},$=W("unscopables"),I=Array.prototype;null==I[$]&&d(I,$,{});var R,D,H,B,L,G,U,q,V,Y,z=(H=1==(R=6),B=2==R,L=3==R,G=4==R,U=6==R,q=5==R||U,V=D||M,function(t,n,e){for(var i,r,o=O(t),s=E(o),a=A(n,e,3),c=F(s.length),u=0,f=H?V(t,c):B?V(t,0):void 0;c>u;u++)if((q||u in s)&&(r=a(i=s[u],u,o),R))if(H)f[u]=r;else if(r)switch(R){case 3:return!0;case 5:return i;case 6:return u;case 2:f.push(i)}else if(G)return!1;return U?-1:L||G?G:f}),X="findIndex",J=!0;X in[]&&Array(1)[X](function(){J=!1}),S(S.P+S.F*J,"Array",{findIndex:function(t){return z(this,t,arguments.length>1?arguments[1]:void 0)}}),Y=X,I[$][Y]=!0;var K={status:"success",timeout:5e3};var Q=function(t,n,e,i,r,o,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1);var f,l="function"==typeof e?e.options:e;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),i&&(l._scopeId=i),o?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=f):n&&(f=s?function(){n.call(this,u(this.$root.$options.shadowRoot))}:function(t){n.call(this,a(t))}),f)if(l.functional){var d=l.render;l.render=function(t,n){return f.call(n),d(t,n)}}else{var y=l.beforeCreate;l.beforeCreate=y?[].concat(y,f):[f]}return e},Z=Q({render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"system-notify",class:t.itemClass},[t.showProgress?e("div",{class:["system-notify__progress",t.notify.cssClass],style:{animationDuration:t.notify.timeout+"ms",animationPlayState:t.animationState}}):t._e(),e("div",{staticClass:"system-notify__content"},[t.notify.title?e("h4",{staticClass:"system-notify__title"},[t._v(t._s(t.notify.title))]):t._e(),e("div",{staticClass:"system-notify__message",domProps:{innerHTML:t._s(t.message)}}),t.buttons?e("div",{staticClass:"system-notify__buttons"},t._l(t.buttons,function(n,i){return e("button",{key:i,staticClass:"btn system-notify__btn",on:{click:function(e){return t.onButtonClick(n)}}},[t._v(t._s(n.text))])}),0):t._e()]),e("button",{staticClass:"system-notify__close",attrs:{type:"button",title:t.$lang.NOTIFY_CLOSE,"aria-label":t.$lang.NOTIFY_CLOSE},on:{click:function(n){return t.$emit("close")}}},[e("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[e("path",{attrs:{fill:"none",stroke:"currentColor","stroke-width":"1.06",d:"M22,22 L4,4 M22,4 L4,22"}})])])])},staticRenderFns:[]},void 0,{name:"system-notify",props:{notify:{type:Object,required:!0}},data:function(){return{animationState:"running"}},computed:{itemClass:function(){return[this.notify.status?"is-"+this.notify.status:"",this.themeClasses&&"theme-"+this.themeClasses.join(" theme-")]},themeClasses:function(){var t=this.notify.theme;return t&&(Array.isArray(t)?t:t.split(",")).map(function(t){return t.trim()})},showProgress:function(){return this.themeClasses&&this.themeClasses.indexOf("progress")>-1&&this.notify.timeout},message:function(){return function(t){for(var n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;n.test(t);)t=t.replace(n,"");return t}(this.notify.message)},buttons:function(){var t=this.notify.button;return!!t&&(Array.isArray(t)?t:[t])}},methods:{onButtonClick:function(t){var n=this;this.animationState="paused",clearTimeout(this.notify._timeout),AWEMA.ajax(t.data,t.url,t.method).then(function(e){e.success&&(e.data.message&&AWEMA.emit("notify::".concat(n.notify.container,":show"),{message:e.data.message}),"function"==typeof t.sended&&t.sended.call(n),n.$emit("close"))})}}},void 0,!1,void 0,void 0,void 0),tt=0,nt=Q({render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.stackDir?e("transition-group",{staticClass:"system-notify-container",class:["is-"+t.name,"dir-"+t.stackDir,{"has-children":t.stackArr.length}],attrs:{tag:"ul",name:"notify","aria-live":"polite","aria-relevant":"additions"}},t._l(t.stackArr,function(n){return e("li",{key:n.id,staticClass:"system-notify-container__item"},[t._t("default",[e("system-notify",{attrs:{notify:n},on:{close:function(e){return t.remove(n.id)}}})],{remove:function(){return t.remove(t.stackArr[0].id)}},n)],2)}),0):e("div",{staticClass:"system-notify-container",class:["is-"+t.name,{"has-children":t.stackArr.length}],attrs:{"aria-live":"polite","aria-relevant":"additions"}},[t._t("default",[e("transition",{attrs:{name:"notify",mode:"out-in"}},[t.stackArr[0]?e("system-notify",{key:t.stackArr[0].id,attrs:{notify:t.stackArr[0]},on:{close:function(n){return t.remove(t.stackArr[0].id)}}}):t._e()],1)],{remove:function(){return t.remove(t.stackArr[0].id)}},t.stackArr[0])],2)},staticRenderFns:[]},void 0,{name:"system-notify-container",components:{systemNotify:Z},props:{name:{type:String,required:!0},stack:{type:[String,Boolean],default:"bottom"},config:Object,notify:[Array,Object]},data:function(){return{stackArr:[]}},computed:{stackDir:function(){switch(this.stack){case"top":return"top";case"false":case!1:return!1;default:return"bottom"}}},methods:{add:function(t){var n=this;try{!1===this.stackDir?(this.stackArr.length&&clearTimeout(this.stackArr[0]._timeout),this.stackArr=[t]):this.stackArr["top"===this.stackDir?"unshift":"push"](t),t.timeout&&"number"==typeof t.timeout&&(t._timeout=setTimeout(function(){n.remove(t.id)},t.timeout))}catch(t){AWEMA_CONFIG.dev&&console.log(t)}},remove:function(t){if(void 0!==t){var n=this.stackArr.findIndex(function(n){return n.id===t});return n>-1&&(clearTimeout(this.stackArr[n]._timeout),this.stackArr.splice(n,1),!0)}},_createNotify:function(t){return tt+=1,Object.assign({},this._config,this.config,t,{id:tt,container:this.name})},_showHandler:function(t){var n=this._createNotify(t.detail);return this.add(n),n.id},_hideHandler:function(t){return this.remove(t.detail)}},beforeMount:function(){this._config=Object.assign(K,AWEMA_CONFIG.notify)},mounted:function(){var t=this;(AWEMA.on("notify::".concat(this.name,":show"),this._showHandler),AWEMA.on("notify::".concat(this.name,":hide"),this._hideHandler),this.notify)&&(Array.isArray(this.notify)?this.notify.slice():[Object.assign({},this.notify)]).forEach(function(n){n=t._createNotify(n),t.add(n)})},beforeDestroy:function(){AWEMA.off("notify::".concat(this.name,":show"),this._showHandler),AWEMA.off("notify::".concat(this.name,":hide"),this._hideHandler)}},void 0,!1,void 0,void 0,void 0);var et={installed:!1,install:function(t){this.installed||(this.installed=!0,t.component("system-notify-container",nt))}};var it={NOTIFY_CLOSE:"Close"},rt={name:"system-notify",version:"1.2.3",install:function(){AWEMA.lang=it,Vue.use(et),function(){AWEMA._watchedNames.push("system-notify-container");var t=document.querySelector('system-notify-container[name="default"]');t||((t=document.createElement("system-notify-container")).setAttribute("name","default"),t.className="position-bottom-right",document.body.appendChild(t)),AWEMA.notify=function(t){var n,e="default";"string"==typeof t?n={message:t}:(n=t,t.container&&(e=t.container)),AWEMA.emit("notify::".concat(e,":show"),n)}}()}};if(window&&"AWEMA"in window)AWEMA.use(rt);else{var ot="__awema_plugins_stack__";window[ot]=window[ot]||[],window[ot].push(rt)}}();
